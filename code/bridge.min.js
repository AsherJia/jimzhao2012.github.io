var __CTRIP_JS_PARAM="?jsparam=";var __CTRIP_URL_PLUGIN="ctrip://h5/plugin"+__CTRIP_JS_PARAM;var kCallbackReturnName=100;var Internal={isIOS:false,isAndroid:false,appVersion:"",isAppVersionGreatThan:function(c){if((typeof c=="string")&&(c.length>0)){var b=parseFloat(c);var a=parseFloat(Internal.appVersion);if(a-b>=0){return true}}return false},appVersionNotSupportCallback:function(a){var b={tagname:"app_version_too_low",start_version:a,app_version:Internal.appVersion};CtripTool.app_log(JSON.stringify(b));window.app.callback(b)},paramErrorCallback:function(a){var b={tagname:"app_param_error",description:a};CtripTool.app_log(JSON.stringify(b));window.app.callback(b)},isNotEmptyString:function(a){if((typeof a=="string")&&(a.length>0)){return true}return false},loadURL:function(b){var c=document.createElement("iframe");var a=document.body||document.documentElement;c.style.display="none";c.setAttribute("src",b);a.appendChild(c);setTimeout(function(){c.parentNode.removeChild(c);c=null},200)},makeParamString:function(a,c,d,b){if(!Internal.isNotEmptyString(a)||!Internal.isNotEmptyString(c)){return""}if(!d){d={}}d.service=a;d.action=c;d.callback_tagname=b;return JSON.stringify(d)},makeURLWithParam:function(a){if(a==null){a=""}a=encodeURIComponent(a);return __CTRIP_URL_PLUGIN+a}};function __bridge_callback(b){b=decodeURIComponent(b);var c=JSON.parse(b);if(c!=null){if(c.param!=null&&c.param.hasOwnProperty("platform")){platform=c.param.platform;Internal.isIOS=(platform==1);Internal.isAndroid=(platform==2);Internal.appVersion=c.param.version}var a=window.app.callback(c);if(a){return a}return kCallbackReturnName}return -1}function __writeLocalStorage(b,a){if(Internal.isNotEmptyString(b)){localStorage.setItem(b,a)}}var CtripTool={app_log:function(b,a){if(!Internal.isNotEmptyString(b)){return}if(!Internal.isNotEmptyString(a)){a=""}var c={};c.log=b;c.result=a;paramString=Internal.makeParamString("Util","h5Log",c,"log");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{window.Util_a.h5Log(paramString)}}};var CtripUtil={app_log_event:function(a){if(Internal.isNotEmptyString(a)){var b={};b.event=a;paramString=Internal.makeParamString("Util","logEvent",b,"log_event");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.logEvent(paramString)}}}},app_init_member_H5_info:function(){paramString=Internal.makeParamString("User","initMemberH5Info",null,"init_member_H5_info");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.User_a.initMemberH5Info(paramString)}}},app_call_phone:function(a){var b={};b.phone=a;paramString=Internal.makeParamString("Util","callPhone",b,"call_phone");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.callPhone(paramString)}}},app_back_to_home:function(){paramString=Internal.makeParamString("Util","backToHome",null,"back_to_home");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.backToHome(paramString)}}},app_back_to_last_page:function(a){var b={};b.callbackString=a;paramString=Internal.makeParamString("Util","backToLast",b,"back_to_last_page");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.backToLast(paramString)}}},app_locate:function(a){var b={};b.is_async=a;paramString=Internal.makeParamString("Locate","locate",b,"locate");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Locate_a.locate(paramString)}}},app_refresh_nav_bar:function(a){if(Internal.isNotEmptyString(a)){jsonObj=JSON.parse(a);jsonObj.service="NavBar";jsonObj.action="refresh";jsonObj.callback_tagname="refresh_nav_bar";paramString=JSON.stringify(jsonObj);if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.NavBar_a.refresh(paramString)}}}},app_open_url:function(b,a,d){var c={};c.openUrl=b;c.title=d;c.targetMode=a;paramString=Internal.makeParamString("Util","openUrl",c,"open_url");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.openUrl(paramString)}else{window.location.href=b}}},app_open_url_v52_fixed:function(d,b,h){var g={};g.openUrl=d;g.title=h;g.targetMode=b;var c=navigator.userAgent;var a=c.indexOf("Android")>0;paramString=Internal.makeParamString("Util","openUrl",g,"open_url");if(a){try{window.Util_a.openUrl(paramString)}catch(f){window.location.href=d}}else{window.location.href=d}},app_check_update:function(){paramString=Internal.makeParamString("Util","checkUpdate",null,"check_update");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.checkUpdate(paramString)}}},app_recommend_app_to_friends:function(){paramString=Internal.makeParamString("Util","recommendAppToFriends",null,"recommend_app_to_friends");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.recommendAppToFriends(paramString)}}},app_add_weixin_friend:function(){paramString=Internal.makeParamString("Util","addWeixinFriend",null,"add_weixin_friend");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.addWeixinFriend(paramString)}}},app_cross_package_href:function(a,c){var b={};b.path=a;b.param=c;paramString=Internal.makeParamString("Util","crossPackageJumpUrl",b,"cross_package_href");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.crossPackageJumpUrl(paramString)}}},app_show_newest_introduction:function(){paramString=Internal.makeParamString("Util","showNewestIntroduction",null,"show_newest_introduction");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.showNewestIntroduction(paramString)}}},app_check_network_status:function(){paramString=Internal.makeParamString("Util","checkNetworkStatus",null,"check_network_status");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.checkNetworkStatus(paramString)}}},app_check_app_install_status:function(b,a){var c={};c.openUrl=b;c.packageName=a;paramString=Internal.makeParamString("Util","checkAppInstallStatus",c,"check_app_install_status");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.checkAppInstallStatus(paramString)}}},app_refresh_native_page:function(b,a){var c={};c.pageName=b;c.jsonStr=a;paramString=Internal.makeParamString("Util","refreshNativePage",c,"refresh_native_page");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.refreshNativePage(paramString)}}},app_copy_string_to_clipboard:function(c){var a="5.3";if(!Internal.isAppVersionGreatThan(a)){Internal.appVersionNotSupportCallback(a);return}var b={};b.copyString=c;paramString=Internal.makeParamString("Util","copyToClipboard",b,"copy_string_to_clipboard");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.copyToClipboard(paramString)}}},app_read_copied_string_from_clipboard:function(){var a="5.3";if(!Internal.isAppVersionGreatThan(a)){Internal.appVersionNotSupportCallback(a);return}paramString=Internal.makeParamString("Util","readCopiedStringFromClipboard",null,"read_copied_string_from_clipboard");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.readCopiedStringFromClipboard(paramString)}}},app_call_system_share:function(d,c){var a="5.3";if(!Internal.isAppVersionGreatThan(a)){Internal.appVersionNotSupportCallback(a);return}var b={};b.imageRelativePath=d;b.text=c;paramString=Internal.makeParamString("Util","callSystemShare",b,"call_system_share");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.Util_a.callSystemShare(paramString)}}},app_download_data:function(a,d){var b="5.3";if(!Internal.isAppVersionGreatThan(b)){Internal.appVersionNotSupportCallback(b);return}var f={};f.downloadUrl=a;f.suffix=d;f.pageUrl=window.location.href;var e=Internal.makeParamString("Util","downloadData",f,"download_data");if(Internal.isIOS){var c=Internal.makeURLWithParam(e);Internal.loadURL(c)}else{if(Internal.isAndroid){window.Util_a.downloadData(e)}}}};var CtripUser={app_member_login:function(){paramString=Internal.makeParamString("User","memberLogin",null,"member_login");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.User_a.memberLogin(paramString)}}},app_non_member_login:function(){paramString=Internal.makeParamString("User","nonMemberLogin",null,"non_member_login");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.User_a.nonMemberLogin(paramString)}}},app_member_auto_login:function(){paramString=Internal.makeParamString("User","memberAutoLogin",null,"member_auto_login");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.User_a.memberAutoLogin(paramString)}}},app_member_register:function(){paramString=Internal.makeParamString("User","memberRegister",null,"member_register");if(Internal.isIOS){url=Internal.makeURLWithParam(paramString);Internal.loadURL(url)}else{if(Internal.isAndroid){window.User_a.memberRegister(paramString)}}}};